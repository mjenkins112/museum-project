<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>I Love Michelle</title>
        <link rel = "stylesheet" href = "style.css">
        <style>
        body {
        margin: 0;
        font-family: Arial, sans-serif;
        scroll-behavior: smooth;
        }
        button {
            opacity: 1; 
            transform: translateY(-20px);
            transition: opacity 1s ease, transform 1s ease; 
        }
        button.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        section {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 3rem;
        opacity: 0;
        transition: opacity 3s ease-in-out;
        flex-direction: column;
        }
        
        section.visible {
        opacity: 1;
        }
        
        /* Colors for demo */
        #page1 { background: #c8e3f7; }
        #page2 { background: #c8e3f7; }
        #page3 { background: #c8e3f7; }
        #page4 { background: #c8e3f7; }
        #page5 { background: #c8e3f7; }
        #page6 { background: #c8e3f7; }
        #page7 { background: #c8e3f7; }
        #page8 { background: #c8e3f7; }
        #page9 { background: #c8e3f7; }
        </style>
        </head>
        <body>
        
        
            <section id="page1">
                <img alt="bubble" class="bubble-left" src="https://static.vecteezy.com/system/resources/previews/057/446/058/non_2x/soap-bubbles-floating-gracefully-on-a-clean-transparent-background-reflecting-light-in-various-colors-soap-bubbles-on-transparent-background-free-png.png" style="transform: scaleX(-1);">
                
                <div class="title-content" style = "
                font-family: 'Georgia', serif;
                font-weight: bold;
                font-size: 6rem;
            ">
                    Whose Business <br> Gets a  Turn in <br> the Machine?
                    <br>
                    <button 
                    class="show"
                    onclick="document.querySelector('#page2').scrollIntoView({ behavior: 'smooth' })"
                    style="
                        padding: 20px 50px;
                        border: none; 
                        border-radius: 50px;
                        cursor: pointer;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        font-size: 1.5rem;
                        font-weight: bold;
                        text-transform: uppercase;
                        letter-spacing: 2px;
                        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
                        transition: all 0.3s ease;
                        position: relative;
                        overflow: hidden;
                        opacity: 1 !important;
                    "
                    onmouseover="this.style.transform='translateY(-5px) scale(1.05)'; this.style.boxShadow='0 15px 40px rgba(102, 126, 234, 0.6)';"
                    onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 10px 30px rgba(102, 126, 234, 0.4)';">
                     Press Start 
                    </button>
                </div>
            
                <img class="bubble-right" src="https://static.vecteezy.com/system/resources/previews/057/446/058/non_2x/soap-bubbles-floating-gracefully-on-a-clean-transparent-background-reflecting-light-in-various-colors-soap-bubbles-on-transparent-background-free-png.png" alt="bubble">
            </section>

        <section id="page2">
            <img src="museum.png" style="height:800px;">
            
            <div class="button-container">
                <button class="leftbut"
                onclick="document.querySelector('#page1').scrollIntoView({ behavior: 'smooth' })">
                NO
                </button>
                
                <button class="rightbut"
                onclick="document.querySelector('#page3').scrollIntoView({ behavior: 'smooth' })">
                YES
                </button>
            </div>
        </section>

        <section id="page3" style = "font-weight: bold;" >Drag Each Clothing Item into the Washing Machine
            <div class="laundry-area">
                <div id="leftwashermachine">
                    <img src="laundry.png"
                         style="height:700px;">
                </div>
                <div id="right">
                    <div class = "list " draggable = "true">
                        <img class="whiteclothes" src="whitehoodie.png" >
                    </div>
                    <br>
                    <div class = "list " draggable = "true">
                        <img class="redclothes" src="redsweat.png" >
                    </div>
                    <br>
                    <div class = "list " draggable = "true"><img class="whiteclothes" src="whiteshirt.png" >
                    </div>
                    <br>
                    <div class = "list " draggable = "true"><img class="redclothes" src="redshirt.png" >
                    </div>
                    <br>
                    <div class = "list " draggable = "true"><img class="whiteclothes" src="whitesocks.png" >
                    </div>
                    <br>
                    <div class = "list " draggable = "true"><img class="redclothes" src="redskirt.png" >
                    </div>
                    
                </div>
        
                
            </div>
        
            
           
       </section>
        <section id="page4">
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">Congratulations! The Machine Accepts Your Business.</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">The board of supervisors reviewed your application and saw you were a white laundryman, and with barely a glance, they approved it. Your business goes straight into the machine with no questions asked.</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1873</p>
            </div>
        </section>
        
        <section id="page5">
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px; color: #8b0000;">Oops, Your Business is Denied!</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">You, a Chinese laundryman, have violated the Queue Ordinance of 1873 because your hair has grown two inches away from your scalp. Now you'll be arrested, restricting from facilitating your business.</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1873</p>
            </div>
        </section>
        
        <section id="page6">
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">Congrats! Your Turn is Granted.</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">The board of supervisors approves your request quickly, while others continue to wait in line because you're a white laundryman.</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1880</p>
            </div>
        </section>
        
        <section id="page7">
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px; color: #8b0000;">Oh No! You've Been Denied!</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">Since your laundry is made of wood, like most of the buildings in SF, your Chinese owned laundry will immediately be shut down for violating the 1880 San Francisco Health Ordinances. Even though the ordinance required all existing and future laundries to be made out of brick or stone, you're denied because of your identity, while other can continue facilitating.</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1880</p>
            </div>
        </section>
        
        <section id="page8">
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">You're Approved.</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">Congrats! You're a white laundryman, none of the ordinances restrict you from holding a business.</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1880</p>
            </div>
        </section>
        
        <section id="page9"> 
            <div class="decree">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 20px;">OFFICIAL DECREE</h1>
                <h2 style="text-align: center; font-size: 1.8rem; margin-bottom: 30px; color: #8b0000;">Your Business Cannot Go in the Machine!</h2>
                <hr style="border: 1px solid #8b7355; margin: 20px 0;">
                <p style="text-align: justify;">You're a Chinese laundryman, who hand carries laundry deliveries. However, the new Laundry Fee Ordinance of 1873 makes each laundry hand delivery costs $15, causing your business's bankruptcy. Maybe Buy A Horse? It's only about $200!</p>
                <p style="text-align: right; margin-top: 30px; font-style: italic;">Signed this day, 1873</p>
            </div>
        </section>
        <section id="gameOverPage" style="display: none;">
            <div class="decree" style="max-width: 900px;">
                <h1 style="text-align: center; font-family: 'Georgia', serif; margin-bottom: 30px; font-size: 3rem;">Reflection</h1>
                <hr style="border: 1px solid #8b7355; margin: 30px 0;">
                
                <h3 style="font-family: 'Georgia', serif; margin-top: 30px; margin-bottom: 15px; color: #8b7355;">Now that you've experienced the laundry licensing system, reflect on the following:</h3>
                
                <div style="background: rgba(139, 115, 85, 0.1); padding: 20px; border-left: 4px solid #8b7355; margin: 20px 0;">
                    <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 15px;"><strong>Question 1:</strong> How would you feel if your business and community was targeted by the government solely for your identity? </p>
                </div>
                
                <div style="background: rgba(139, 115, 85, 0.1); padding: 20px; border-left: 4px solid #8b7355; margin: 20px 0;">
                    <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 15px;"><strong>Question 2:</strong>What does your approval experience suggest about who the system benefits and who it doesnâ€™t?
                    </p>
                </div>
                
            </div>
            
            <button class="show" 
                    onclick="window.location.href = window.location.href.split('#')[0] + '#page1'; location.reload();"
                    style="
                        padding: 15px 40px;
                        margin-top: 30px;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        border: none;
                        border-radius: 25px;
                        font-size: 1.3rem;
                        font-weight: bold;
                        cursor: pointer;
                        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                        transition: all 0.3s ease;
                    "
                    onmouseover="this.style.transform='translateY(-3px) scale(1.05)';"
                    onmouseout="this.style.transform='translateY(0) scale(1)';">
                Play Again
            </button>
        </section>
        
        <script>

            const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            entry.target.querySelectorAll('button').forEach(btn => {
                                btn.classList.add('show');
                            });
                        }
                    });
                }, { threshold: 0.3 });
                
                document.querySelectorAll('section').forEach(section => {
                    observer.observe(section);
                });
            
                let lists = document.getElementsByClassName("list");
                let leftwashermachine = document.getElementById("leftwashermachine");
                let clothlists = document.getElementById("right");
                let selected = null;

                // Setup drag events
                for (let i = 0; i < lists.length; i++) {
                    lists[i].dataset.index = i;
                    
                    lists[i].addEventListener("dragstart", function(e){
                        selected = e.currentTarget;
                    });
                }

                function getAssignedPage(index) {
                    return index + 4;
                }

                leftwashermachine.addEventListener("dragover", e => {
                    e.preventDefault();
                    e.dataTransfer.dropEffect = "move";
                });

                leftwashermachine.addEventListener("drop", function(e){
                    e.preventDefault();
                    
                    if (selected) {
                        // Check if it's red or white clothes
                        let isRedClothes = selected.querySelector('.redclothes') !== null;
                        
                        // Mark this item as processed
                        selected.dataset.processed = "true";
                        
                        let index = parseInt(selected.dataset.index);
                        let assignedPage = getAssignedPage(index);
                        
                        // Hide page 3 and show assigned page
                        document.querySelector("#page3").style.display = "none";
                        document.querySelector("#page" + assignedPage).style.display = "flex";
                        
                        if (isRedClothes) {
                            // Red clothes: go back to original position
                            clothlists.appendChild(selected);
                        } else {
                            // White clothes: disappear
                            selected.remove();
                        }
                        
                        selected = null;
                        
                        // Check if all clothes have been processed (dragged at least once)
                        let allClothes = document.querySelectorAll('.list');
                        let allProcessed = true;
                        allClothes.forEach(cloth => {
                            if (!cloth.dataset.processed) {
                                allProcessed = false;
                            }
                        });
                        
                        if (allProcessed) {
                            // All clothes done! Show game over page after a short delay
                            setTimeout(() => {
                                document.querySelector("#page" + assignedPage).style.display = "none";
                                document.querySelector("#gameOverPage").style.display = "flex";
                            }, 2000);
                        }
                    }
                });
                for (let i = 4; i <= 9; i++) {
                let page = document.getElementById("page" + i);
                
                // Initially hide pages 4-9
                page.style.display = "none";
                
                let btn = document.createElement("button");
                btn.innerText = "Back to Laundry";
                btn.className = "show"; // Make button visible immediately
                btn.onclick = () => {
                    // Hide current page and show page 3
                    page.style.display = "none";
                    document.querySelector("#page3").style.display = "flex";
                };
                
                page.appendChild(btn);
            }
        </script>
        </body>
</html>
